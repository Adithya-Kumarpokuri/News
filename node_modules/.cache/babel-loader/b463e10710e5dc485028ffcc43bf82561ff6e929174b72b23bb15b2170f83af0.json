{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adith\\\\OneDrive\\\\Desktop\\\\Newshub\\\\NewsHub\\\\src\\\\components\\\\News.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport NewsItem from \"./NewsItem\";\nimport Loading from \"./Spinner\";\nimport PropTypes from \"prop-types\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport newsImage from \"./newsImg_1.jpg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst News = props => {\n  _s();\n  const [articles, setArticles] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [pages, setPages] = useState(1);\n  const [totalResults, setTotalResults] = useState(0);\n  // document.title =props.category !== \"general\" ? capitalise(props.category) + \" - NewsHub\" : \"NewsHub - Your Gateway to the World\";\n\n  const capitalise = str => {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  };\n  const updateNews = async () => {\n    props.setProgress(10);\n    const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=${props.apiKey}&pageSize=${props.pageSize}&page=${pages}`;\n    props.setProgress(20);\n    setLoading(true);\n    let data = await fetch(url);\n    props.setProgress(30);\n    let parsedData = await data.json();\n    props.setProgress(50);\n    setArticles(parsedData.articles);\n    setTotalResults(parsedData.totalResults);\n    setLoading(false);\n    props.setProgress(100);\n    document.title = props.category !== \"general\" ? capitalise(props.category) + \" - NewsHub\" : \"NewsHub - Your Gateway to the World\";\n  };\n  useEffect(() => {\n    updateNews();\n    // eslint-disable-next-line \n  }, [])`https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=&page=${this.state.page}&pagesize=${this.props.pagesize}`;\n  const fetchMoreData = async () => {\n    const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=${props.apiKey}&pageSize=${props.pageSize}&page=${pages + 1}`;\n    let data = await fetch(url);\n    let parsedData = await data.json();\n    setTotalResults(parsedData.totalResults);\n    setArticles(articles.concat(parsedData.articles));\n    setPages(pages + 1);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-center\",\n      style: {\n        marginBottom: \"25px\",\n        marginTop: \"81px\"\n      },\n      children: [\"NewsHub -\", props.category === \"general\" ? \"Today's Top Headlines\" : `Top ${capitalise(props.category)} Headlines`]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n      dataLength: articles === null || articles === void 0 ? void 0 : articles.length,\n      next: fetchMoreData,\n      hasMore: (articles === null || articles === void 0 ? void 0 : articles.length) < totalResults,\n      loader: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 19\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: (articles === null || articles === void 0 ? void 0 : articles.length) && articles.map(ele => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-4\",\n              children: /*#__PURE__*/_jsxDEV(NewsItem, {\n                source: ele.source.name,\n                title: ele.title,\n                description: ele.description,\n                imageUrl: ele.urlToImage ? ele.urlToImage : newsImage,\n                newsUrl: ele.url,\n                author: ele.author ? ele.author : \"unknown\",\n                time: new Date(ele.publishedAt).toGMTString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, this)\n            }, ele.url, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(News, \"+BnyxjaxnQQuW7IlRc72WBI9KSI=\");\n_c = News;\nNews.defaultProp = {\n  country: \"in\",\n  pageSize: 5,\n  category: \"general\"\n};\nNews.propTypes = {\n  country: PropTypes.string,\n  pageSize: PropTypes.number,\n  category: PropTypes.string,\n  apiKey: PropTypes.string.isRequired\n};\nexport default News;\nvar _c;\n$RefreshReg$(_c, \"News\");","map":{"version":3,"names":["React","useState","useEffect","NewsItem","Loading","PropTypes","InfiniteScroll","newsImage","jsxDEV","_jsxDEV","Fragment","_Fragment","News","props","_s","articles","setArticles","loading","setLoading","pages","setPages","totalResults","setTotalResults","capitalise","str","charAt","toUpperCase","slice","updateNews","setProgress","url","country","category","apiKey","pageSize","data","fetch","parsedData","json","document","title","state","page","pagesize","fetchMoreData","concat","children","className","style","marginBottom","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","dataLength","length","next","hasMore","loader","map","ele","source","name","description","imageUrl","urlToImage","newsUrl","author","time","Date","publishedAt","toGMTString","_c","defaultProp","propTypes","string","number","isRequired","$RefreshReg$"],"sources":["C:/Users/adith/OneDrive/Desktop/Newshub/NewsHub/src/components/News.js"],"sourcesContent":["import React,{useState,useEffect} from \"react\";\nimport NewsItem from \"./NewsItem\";\nimport Loading from \"./Spinner\";\nimport PropTypes from \"prop-types\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport newsImage from \"./newsImg_1.jpg\";\n\nconst News=(props)=> {\n  const [articles,setArticles] = useState([]);\n  const [loading,setLoading] = useState(false);\n  const [pages,setPages] = useState(1);\n  const [totalResults,setTotalResults] = useState(0);\n  // document.title =props.category !== \"general\" ? capitalise(props.category) + \" - NewsHub\" : \"NewsHub - Your Gateway to the World\";\n\n  const capitalise = (str) => {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  };\n  \n  const updateNews=async()=> {\n    props.setProgress(10);\n    const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=${props.apiKey}&pageSize=${props.pageSize}&page=${pages}`;\n    props.setProgress(20);\n    setLoading(true);\n    let data = await fetch(url);\n    props.setProgress(30);\n    let parsedData = await data.json();\n    props.setProgress(50);\n    setArticles(parsedData.articles);\n    setTotalResults(parsedData.totalResults);\n    setLoading(false);\n    props.setProgress(100);\n    document.title =(props.category !== \"general\" ? capitalise(props.category) + \" - NewsHub\" : \"NewsHub - Your Gateway to the World\");\n  }\n  \n  useEffect(()=>{\n     updateNews();\n     // eslint-disable-next-line \n  },[])\n`https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=&page=${this.state.page}&pagesize=${this.props.pagesize}`\n  const fetchMoreData=async ()=>{\n    const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=${props.apiKey}&pageSize=${props.pageSize}&page=${pages+1}`;\n    let data = await fetch(url);\n    let parsedData = await data.json();\n    setTotalResults(parsedData.totalResults)\n    setArticles(articles.concat(parsedData.articles))\n    setPages(pages+1);\n  }\n\n    return (\n      <>\n        <h2 className=\"text-center\" style={{ marginBottom: \"25px\", marginTop: \"81px\"}}>\n          NewsHub -{props.category === \"general\"? \"Today's Top Headlines\" :`Top ${capitalise(props.category)} Headlines`}\n        </h2>\n        {loading &&<Loading/>}\n        <InfiniteScroll\n          dataLength={articles?.length}\n          next={fetchMoreData}\n          hasMore={articles?.length < totalResults}\n          loader={<Loading/>}\n        >\n          <div className=\"container\">\n          <div className=\"row\">\n            {articles?.length && articles.map((ele) => {\n              return (\n                <div className=\"col-md-4\" key={ele.url}>\n                  <NewsItem source={ele.source.name} title={ele.title} description={ele.description}\n                    imageUrl={ele.urlToImage? ele.urlToImage: newsImage}  \n                    newsUrl={ele.url} author={ele.author ? ele.author : \"unknown\"} time={new Date(ele.publishedAt).toGMTString()}\n                  />\n                </div>\n              );\n            })}\n          </div>\n          </div>\n        </InfiniteScroll>\n      </>\n    );\n}\n\nNews.defaultProp = {\n  country: \"in\",\n  pageSize: 5,\n  category: \"general\",\n};\n\nNews.propTypes = {\n  country: PropTypes.string,\n  pageSize: PropTypes.number,\n  category: PropTypes.string,\n  apiKey: PropTypes.string.isRequired\n};\n\nexport default News;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}